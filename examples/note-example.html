<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../old-fashioned.css" />
    <link async rel="icon" type="image/x-icon" href="../old-fashioned.png">
    <script src="../old-fashioned.js"></script>
    <script src="../old-fashioned-forms.js"></script>
    <script src="../old-fashioned-wizards.js"></script>
    <script src="../old-fashioned-convenience.js"></script>
    <script>
        window.onload = () => {

            
            const sceneManager = new SceneManager();
            const listScene = sceneManager.createScene('notes', 'Old Fashioned Notes');
            listScene.add(
                new SubmissionForm('Old Fashioned Notes', (o) => localStorage.setItem("notes-example", JSON.stringify(o)), "Save")
                    .addChildren(
                        new FormEntryGroupArray('items', localStorage.getItem('notes-example') ? JSON.parse(localStorage.getItem('notes-example')).items : [], 'Notes',
                            (item, counter) => new FormEntryGroup('item', {}, 'Note ' + counter).removable()
                                .addChildren(
                                    new TextFormEntry('title', item.title, 'Title', StringValidators.NOT_EMPTY),
                                    new DropdownListFormEntry('category', item.category, 'Category',
                                        new Promise(resolve => resolve(['Hobby', 'Work', 'Family']))),
                                    new TextAreaFormEntry('description', item.description, 'Description')
                                ), 'Add Note', ArrayValidators.NOT_EMPTY)
                    ).getComponent()
                , Position.CENTER)
                .add(
                    new Container().add(new TextField(), Position.CENTER).add(new Button("Search"), Position.EAST),
                    Position.NORTH
                );
            sceneManager.routeTo('notes');
        };
    </script>
</head>

<body>
    <div id="glass"></div>
</body>

</html>